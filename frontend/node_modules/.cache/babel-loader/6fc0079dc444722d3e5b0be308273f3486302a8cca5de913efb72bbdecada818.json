{"ast":null,"code":"var _s = $RefreshSig$();\nimport Navbar from \"./Navbar\";\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nfunction Result() {\n  _s();\n  const [courseCode, setCourseCode] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  useEffect(() => {\n    const data = window.localStorage.getItem('COURSE-CODE');\n    if (data !== null) setCourseCode(data);\n  }, []);\n  useEffect(() => {\n    const data = window.localStorage.getItem('USERNAME');\n    if (data !== null) setUsername(data);\n  }, []);\n  const [file, setFile] = useState(null);\n  const [progress, setProgress] = useState({\n    started: false,\n    pc: 0\n  });\n  const [msg, setMsg] = useState(null);\n  function handleUpload() {\n    if (!file) {\n      setMsg(\"No file selected\");\n      return;\n    }\n    const fd = new FormData();\n    fd.append('file', file);\n    setMsg(\"Uploading...\");\n    setProgress(prevState => {\n      return {\n        ...prevState,\n        started: true\n      };\n    });\n    axios.post('http://httpbin.org/post', fd, {\n      onUploadProgress: progressEvent => {\n        setProgress(prevState => {\n          return {\n            ...prevState,\n            pc: progressEvent.progress * 100\n          };\n        });\n      },\n      headers: {\n        \"Custom-Header\": \"value\"\n      }\n    }).then(res => {\n      setMsg(\"Upload successful\");\n      console.log(res.data);\n    }).catch(err => {\n      setMsg(\"Upload failed\");\n      console.error(err);\n    });\n  }\n}\n_s(Result, \"7kaOE2fJXVBrAuR7Ru8JYoYVxPk=\");\n_c = Result;\nexport default Result;\nvar _c;\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["Navbar","useState","useEffect","axios","Result","_s","courseCode","setCourseCode","username","setUsername","data","window","localStorage","getItem","file","setFile","progress","setProgress","started","pc","msg","setMsg","handleUpload","fd","FormData","append","prevState","post","onUploadProgress","progressEvent","headers","then","res","console","log","catch","err","error","_c","$RefreshReg$"],"sources":["C:/Users/rambo/Documents/rad/UBC BSC/Hackathons/ignition/frontend/src/Result.js"],"sourcesContent":["import Navbar from \"./Navbar\";\r\nimport { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction Result () {\r\n\r\n    const [courseCode, setCourseCode] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const data = window.localStorage.getItem('COURSE-CODE');\r\n        if ( data !== null ) setCourseCode(data)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const data = window.localStorage.getItem('USERNAME');\r\n        if ( data !== null ) setUsername(data)\r\n    }, [])\r\n\r\n    const [ file, setFile ] = useState(null);\r\n    const [ progress, setProgress] = useState({ started: false, pc: 0 });\r\n    const [ msg, setMsg ] = useState(null);\r\n\r\n    function handleUpload() {\r\n        if (!file) {\r\n            setMsg(\"No file selected\");\r\n            return;\r\n        }\r\n\r\n        const fd = new FormData();\r\n        fd.append('file', file);\r\n\r\n        setMsg(\"Uploading...\");\r\n        setProgress(prevState => {\r\n            return {...prevState, started: true}\r\n        })\r\n\r\n        axios.post('http://httpbin.org/post', fd, {\r\n            onUploadProgress: (progressEvent) => { setProgress(prevState => {\r\n                return { ...prevState, pc: progressEvent.progress*100 }\r\n            })}, \r\n            headers: {\r\n                \"Custom-Header\": \"value\",\r\n            }\r\n        })\r\n\r\n        .then(res => {\r\n            setMsg(\"Upload successful\");\r\n            console.log(res.data);\r\n        })\r\n        .catch(err => {\r\n            setMsg(\"Upload failed\");\r\n            console.error(err);\r\n        });\r\n    }\r\n}\r\n\r\nexport default Result;"],"mappings":";AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAGzB,SAASC,MAAMA,CAAA,EAAI;EAAAC,EAAA;EAEf,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ,MAAMQ,IAAI,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACvD,IAAKH,IAAI,KAAK,IAAI,EAAGH,aAAa,CAACG,IAAI,CAAC;EAC5C,CAAC,EAAE,EAAE,CAAC;EAENR,SAAS,CAAC,MAAM;IACZ,MAAMQ,IAAI,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IACpD,IAAKH,IAAI,KAAK,IAAI,EAAGD,WAAW,CAACC,IAAI,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM,CAAEI,IAAI,EAAEC,OAAO,CAAE,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAEe,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,OAAO,EAAE,KAAK;IAAEC,EAAE,EAAE;EAAE,CAAC,CAAC;EACpE,MAAM,CAAEC,GAAG,EAAEC,MAAM,CAAE,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAEtC,SAASqB,YAAYA,CAAA,EAAG;IACpB,IAAI,CAACR,IAAI,EAAE;MACPO,MAAM,CAAC,kBAAkB,CAAC;MAC1B;IACJ;IAEA,MAAME,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;IACzBD,EAAE,CAACE,MAAM,CAAC,MAAM,EAAEX,IAAI,CAAC;IAEvBO,MAAM,CAAC,cAAc,CAAC;IACtBJ,WAAW,CAACS,SAAS,IAAI;MACrB,OAAO;QAAC,GAAGA,SAAS;QAAER,OAAO,EAAE;MAAI,CAAC;IACxC,CAAC,CAAC;IAEFf,KAAK,CAACwB,IAAI,CAAC,yBAAyB,EAAEJ,EAAE,EAAE;MACtCK,gBAAgB,EAAGC,aAAa,IAAK;QAAEZ,WAAW,CAACS,SAAS,IAAI;UAC5D,OAAO;YAAE,GAAGA,SAAS;YAAEP,EAAE,EAAEU,aAAa,CAACb,QAAQ,GAAC;UAAI,CAAC;QAC3D,CAAC,CAAC;MAAA,CAAC;MACHc,OAAO,EAAE;QACL,eAAe,EAAE;MACrB;IACJ,CAAC,CAAC,CAEDC,IAAI,CAACC,GAAG,IAAI;MACTX,MAAM,CAAC,mBAAmB,CAAC;MAC3BY,OAAO,CAACC,GAAG,CAACF,GAAG,CAACtB,IAAI,CAAC;IACzB,CAAC,CAAC,CACDyB,KAAK,CAACC,GAAG,IAAI;MACVf,MAAM,CAAC,eAAe,CAAC;MACvBY,OAAO,CAACI,KAAK,CAACD,GAAG,CAAC;IACtB,CAAC,CAAC;EACN;AACJ;AAAC/B,EAAA,CAnDQD,MAAM;AAAAkC,EAAA,GAANlC,MAAM;AAqDf,eAAeA,MAAM;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}