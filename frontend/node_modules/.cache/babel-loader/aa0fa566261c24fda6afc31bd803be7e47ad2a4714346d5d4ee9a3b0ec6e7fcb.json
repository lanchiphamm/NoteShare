{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rambo\\\\Documents\\\\rad\\\\UBC BSC\\\\Hackathons\\\\ignition\\\\frontend\\\\src\\\\Result.js\",\n  _s = $RefreshSig$();\nimport Navbar from \"./Navbar\";\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Result() {\n  _s();\n  const [courseCode, setCourseCode] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  useEffect(() => {\n    const data = window.localStorage.getItem('COURSE-CODE');\n    if (data !== null) setCourseCode(data);\n  }, []);\n  useEffect(() => {\n    const data = window.localStorage.getItem('USERNAME');\n    if (data !== null) setUsername(data);\n  }, []);\n  const [file, setFile] = useState(null);\n  const [progress, setProgress] = useState({\n    started: false,\n    pc: 0\n  });\n  const [msg, setMsg] = useState(null);\n  function handleUpload() {\n    if (!file) {\n      setMsg(\"No file selected\");\n      return;\n    }\n    const fd = new FormData();\n    fd.append('file', file);\n    setMsg(\"Uploading...\");\n    setProgress(prevState => {\n      return {\n        ...prevState,\n        started: true\n      };\n    });\n    axios.post('http://httpbin.org/post', fd, {\n      onUploadProgress: progressEvent => {\n        setProgress(prevState => {\n          return {\n            ...prevState,\n            pc: progressEvent.progress * 100\n          };\n        });\n      },\n      headers: {\n        \"Custom-Header\": \"value\"\n      }\n    }).then(res => {\n      setMsg(\"Upload successful\");\n      console.log(res.data);\n    }).catch(err => {\n      setMsg(\"Upload failed\");\n      console.error(err);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Result Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Showing notes for \", courseCode]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setFile(e.target.files[0]);\n        },\n        type: \"file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), progress.started && /*#__PURE__*/_jsxDEV(\"progress\", {\n        max: \"100\",\n        value: progress.pc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 35\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this);\n  }\n}\n_s(Result, \"7kaOE2fJXVBrAuR7Ru8JYoYVxPk=\");\n_c = Result;\nexport default Result;\nvar _c;\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["Navbar","useState","useEffect","axios","jsxDEV","_jsxDEV","Result","_s","courseCode","setCourseCode","username","setUsername","data","window","localStorage","getItem","file","setFile","progress","setProgress","started","pc","msg","setMsg","handleUpload","fd","FormData","append","prevState","post","onUploadProgress","progressEvent","headers","then","res","console","log","catch","err","error","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","files","type","onClick","max","value","_c","$RefreshReg$"],"sources":["C:/Users/rambo/Documents/rad/UBC BSC/Hackathons/ignition/frontend/src/Result.js"],"sourcesContent":["import Navbar from \"./Navbar\";\r\nimport { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction Result () {\r\n\r\n    const [courseCode, setCourseCode] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const data = window.localStorage.getItem('COURSE-CODE');\r\n        if ( data !== null ) setCourseCode(data)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const data = window.localStorage.getItem('USERNAME');\r\n        if ( data !== null ) setUsername(data)\r\n    }, [])\r\n\r\n    const [ file, setFile ] = useState(null);\r\n    const [ progress, setProgress] = useState({ started: false, pc: 0 });\r\n    const [ msg, setMsg ] = useState(null);\r\n\r\n    function handleUpload() {\r\n        if (!file) {\r\n            setMsg(\"No file selected\");\r\n            return;\r\n        }\r\n\r\n        const fd = new FormData();\r\n        fd.append('file', file);\r\n\r\n        setMsg(\"Uploading...\");\r\n        setProgress(prevState => {\r\n            return {...prevState, started: true}\r\n        })\r\n\r\n        axios.post('http://httpbin.org/post', fd, {\r\n            onUploadProgress: (progressEvent) => { setProgress(prevState => {\r\n                return { ...prevState, pc: progressEvent.progress*100 }\r\n            })}, \r\n            headers: {\r\n                \"Custom-Header\": \"value\",\r\n            }\r\n        })\r\n\r\n        .then(res => {\r\n            setMsg(\"Upload successful\");\r\n            console.log(res.data);\r\n        })\r\n        .catch(err => {\r\n            setMsg(\"Upload failed\");\r\n            console.error(err);\r\n        });\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <h1>Result Page</h1>\r\n            <h2>Showing notes for {courseCode}</h2>\r\n\r\n            <input onChange={ (e) => { setFile(e.target.files[0]) } } type=\"file\"/>\r\n            \r\n            <button onClick={ handleUpload }>Upload</button>\r\n\r\n            { progress.started && <progress max=\"100\" value={progress.pc}></progress> }\r\n            { msg && <span>{msg}</span> }\r\n        </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default Result;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}