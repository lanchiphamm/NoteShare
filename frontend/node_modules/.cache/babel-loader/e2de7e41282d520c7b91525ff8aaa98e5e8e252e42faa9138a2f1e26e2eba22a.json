{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rambo\\\\Documents\\\\rad\\\\UBC BSC\\\\Hackathons\\\\ignition\\\\frontend\\\\src\\\\Login.js\",\n  _s = $RefreshSig$();\nimport './Login.css';\nimport React, { useState, useEffect } from 'react';\nimport Popup from './components/Popup.js';\nimport loginService from './services/login';\nimport Notification from './components/Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  // var username = \"\";\n  // var password = \"\";\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [user, setUser] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const handleLogin = async event => {\n    event.preventDefault();\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n      setUser(user);\n      setUsername('');\n      setPassword('');\n      window.location.replace(\"/main\");\n    } catch (error) {\n      if (error.response.request.status === 400) {\n        setErrorMessage('Username does not exits. Try signing up?');\n      } else if (error.response.request.status === 401) {\n        setErrorMessage('Wrong credentials. Please try again');\n      }\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n  function handleSubmit(e) {\n    e.preventDefault();\n    const form = e.target;\n    const formData = new FormData(form);\n    const data = Object.fromEntries(formData.entries());\n    setUsername(data.username);\n    setPassword(data.password);\n    var userCorrect = checkPassword(username, password);\n    if (userCorrect) {\n      window.location.replace(\"/main\");\n    } else {\n      setIsOpen(true);\n    }\n  }\n  function checkPassword(u, p) {\n    return true;\n  }\n  function signUp() {\n    window.location.replace(\"/signup\");\n  }\n  useEffect(() => {\n    window.localStorage.setItem('USERNAME', username);\n  }, [username]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"heading\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to NoteShare\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-box\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"login\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"username\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: username,\n            name: \"Username\",\n            onChange: ({\n              target\n            }) => setUsername(target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            name: \"Password\",\n            onChange: ({\n              target\n            }) => setPassword(target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signUp,\n        children: \"or Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: isOpen,\n      setTrigger: setIsOpen,\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Rc27pHTJvgHw7MKPBGMTcJhJ7Hw=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Popup","loginService","Notification","jsxDEV","_jsxDEV","Login","_s","isOpen","setIsOpen","errorMessage","setErrorMessage","user","setUser","username","setUsername","password","setPassword","handleLogin","event","preventDefault","login","window","location","replace","error","response","request","status","setTimeout","handleSubmit","e","form","target","formData","FormData","data","Object","fromEntries","entries","userCorrect","checkPassword","u","p","signUp","localStorage","setItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","message","method","onSubmit","type","value","name","onChange","onClick","trigger","setTrigger","_c","$RefreshReg$"],"sources":["C:/Users/rambo/Documents/rad/UBC BSC/Hackathons/ignition/frontend/src/Login.js"],"sourcesContent":["import './Login.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Popup from './components/Popup.js';\r\nimport loginService from './services/login'\r\nimport Notification from './components/Notification';\r\n\r\n\r\nfunction Login() {\r\n  // var username = \"\";\r\n  // var password = \"\";\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  \r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  const [user, setUser] = useState(null)\r\n  const [username, setUsername] = useState('') \r\n  const [password, setPassword] = useState('') \r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    \r\n    try {\r\n      const user = await loginService.login({\r\n        username, password\r\n      })\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n      window.location.replace(\"/main\");\r\n\r\n    } catch (error) {\r\n      if (error.response.request.status === 400) {\r\n        setErrorMessage('Username does not exits. Try signing up?')\r\n      } else if (error.response.request.status === 401) {\r\n        setErrorMessage('Wrong credentials. Please try again')\r\n      }\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const formData = new FormData(form);\r\n  \r\n    const data =  Object.fromEntries(formData.entries());\r\n    setUsername(data.username);\r\n    setPassword(data.password);\r\n    var userCorrect = checkPassword(username, password);\r\n    \r\n    if (userCorrect) {\r\n      window.location.replace(\"/main\");\r\n    } else {\r\n      setIsOpen(true);\r\n    }\r\n  }\r\n\r\n  function checkPassword(u, p) {\r\n    return true;\r\n  }\r\n   \r\n  function signUp() {\r\n    window.location.replace(\"/signup\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem('USERNAME', username)\r\n  }, [username])\r\n\r\n  return (\r\n    <div className = \"body\">\r\n      <div className=\"heading\">\r\n        <h1>Welcome to NoteShare</h1>\r\n      </div>\r\n\r\n      <div className = \"login\">\r\n        <h2>Login</h2>\r\n      </div>\r\n\r\n      <Notification message={errorMessage} />\r\n\r\n      <div className = \"login-box\">\r\n        <form method=\"login\" onSubmit={handleSubmit}>\r\n        <div>\r\n        username\r\n          <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n        </div>\r\n        <div>\r\n          password\r\n            <input\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n            />\r\n        </div>\r\n        <button type=\"submit\">Login</button>\r\n        </form>\r\n      </div>\r\n\r\n      <div className =\"sign-up-btn\">\r\n        <button onClick={signUp}>or Sign Up</button>\r\n      </div>\r\n\r\n      <Popup trigger={isOpen} setTrigger= {setIsOpen}>\r\n        <h3>Login Failed</h3>\r\n      </Popup>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}